// GLOBAL FANCYBOX CONFIG VARIABLES
var FB_PADDING=0,FB_TOP_RATIO=.25,FB_CLOSE_CLICK=!1,FB_OL_BG="rgba(0,0,0,0.9)";$(document).ready(function(){$(this).readXML();$("div.mobile-nav").on("click",function(){$("nav.mobile-nav").slideToggle("slow")});$(".dialog-container").dialog({modal:!0,minWidth:400,minHeight:150,autoOpen:!1,resizable:!1,draggable:!1,buttons:{Ok:function(){$(this).dialog("close")}}});$(window).onWindowResize();$("nav.mobile-nav").html($("header nav").html());$("nav.mobile-nav ul li a").onMenuSelect()});$.fn.readXML=function(){$.ajaxSetup({url:"assets/showcase.xml",dataType:"xml",accepts:"xml",content:"xml",contentType:'xml; charset="utf-8"',cache:!1});$.ajax({type:"get",beforeSend:function(e){e.overrideMimeType("xml; charset=utf-8");e.setRequestHeader("Accept","text/xml")},success:function(e){$(this).setupXML(e)},error:function(e,t){$(this).displayError(e.status,t)}})};$.fn.setupXML=function(e){var t=$(e).find("category").find("name"),n=$(e).find("item");if(t.length){$("header nav ul").html('<li class="active"><a data-cat="0" href="javascript:void(0)">All</a></li>');t.each(function(){$("header nav ul").append('<li><a data-cat="'+$(this).attr("id")+'" href="javascript:void(0)">'+$(this).text()+"</a></li>")});$("header nav ul li a").onMenuSelect()}else{$("header nav ul").hide();$("div.mobile-nav").hide()}if(n.length){n.each(function(){var e=$(this).attr("type"),t=$(this).attr("category"),n=$(this).find("title1").text(),r=$(this).find("title2").text(),i=$(this).find("subtitle").text(),s=$(this).find("thumb").text(),o=$(this).find("source").text();$(".showcase-container").append('<div class="grid '+e+'" data-cat="'+t+'"><img src="assets/thumbs/'+s+'" alt="'+n+"<br />"+r+'" data-subtitle="'+i+'" data-src="'+o+'" /><div class="overlay"><div class="title">'+n+"<br />"+r+'</div><div class="icon"><span class="icon-'+e+'"></span></div></div></div>')});$(".showcase-container .grid").onGridHover();$(".showcase-container .grid").onGridClick()}};$.fn.displayError=function(e,t){var n,r;e===0?n="Error 0 - No network connection.":e===404?n="Error 404 - Requested XML not found.":e===406?n="Error 406 - Not acceptable error.":e===500?n="Error 500 - Internal Server Error.":n="Uncaught error";t==="parsererror"?r="Requested XML parse failed.":t==="timeout"?r="Time out error.":t==="abort"?r="Ajax request aborted.":t==="error"?r="HTTP / URL Error.":r=e.responseText;$(this).showMessage(n,r)};$.fn.onWindowResize=function(){this.resize(function(){var e=$(this).innerWidth()+15;$("nav.mobile-nav").html($("header nav").html());e>=720?$("nav.mobile-nav").slideUp():$("nav.mobile-nav ul li a").onMenuSelect()})};$.fn.onMenuSelect=function(){this.on("click",function(){var e=$(this);$(this.parentNode.parentNode.childNodes).each(function(){$(this).removeClass("active")});$(this.parentNode).addClass("active");e.attr("data-cat")!=="0"?$(".grid").each(function(){$(this).attr("data-cat")!==e.attr("data-cat")?$(this).fadeOut():$(this).delay(500).fadeIn()}):$(".grid").each(function(){$(this).fadeIn()});$(this.parentNode.parentNode.parentNode).hasClass("mobile-nav")&&$("nav.mobile-nav").slideToggle(1e3,function(){$("header nav").html($("nav.mobile-nav").html());$("header nav ul li a").onMenuSelect()})});return!1};$.fn.onGridHover=function(){this.hover(function(){$(this).toggleClass("active").next().stop(!0,!0)})};$.fn.onGridClick=function(){this.click(function(){var e=$(this).find("img").attr("alt"),t=$(this).find("img").attr("data-subtitle"),n=$(this).find("img").attr("data-src");n.length?$(this).hasClass("video")||$(this).hasClass("animation")?$(this).getVideo(e,t,n):$(this).hasClass("sound")||$(this).hasClass("music")?$(this).getAudio(e,t,n):$(this).hasClass("print")||$(this).hasClass("infographic")||$(this).hasClass("illustration")||$(this).hasClass("mobile")?$(this).getImage(e,t,n):$(this).hasClass("web")?$(this).getWeb(e,t,n):$(this).hasClass("document")?$(this).getDoc(e,t,n):$(this).hasClass("presentation")&&$(this).getPresentation(e,t,n):$(this).showMessage("No Source Found!","No source was found or specified for this item. Please double check the XML for "+e+".")})};$.fn.getVideo=function(e,t,n){var r=640,i=360;n.indexOf("mediastreamer")>=0&&(i=410);$.fancybox({href:n,title:e,padding:FB_PADDING,topRatio:FB_TOP_RATIO,width:r,height:i,minHeight:i,type:"iframe",helpers:{title:null,overlay:{closeClick:FB_CLOSE_CLICK,css:{background:FB_OL_BG}},media:!0},afterLoad:function(){this.inner.before("<h2>"+this.title+"</h2><h3>"+t+"</h3>")}})};$.fn.getAudio=function(e,t,n){var r=390,i=275;$.fancybox({href:n,title:e,padding:FB_PADDING,topRatio:FB_TOP_RATIO,width:r,height:i,type:"iframe",helpers:{title:null,overlay:{closeClick:FB_CLOSE_CLICK,css:{background:FB_OL_BG}}},afterLoad:function(){this.inner.before("<h2>"+this.title+"</h2><h3>"+t+"</h3>")}})};$.fn.getImage=function(e,t,n){var r=!0;$(this).hasClass("infographic")&&(r=!1);$.fancybox({href:n,title:e,fitToView:r,padding:FB_PADDING,topRatio:FB_TOP_RATIO,helpers:{title:null,overlay:{closeClick:FB_CLOSE_CLICK,css:{background:FB_OL_BG}}},afterLoad:function(){this.inner.before("<h2>"+this.title+"</h2><h3>"+t+"</h3>")}})};$.fn.getWeb=function(e,t,n){$.fancybox({href:n,title:e,type:"iframe",iframe:{scrolling:"auto"},padding:FB_PADDING,topRatio:FB_TOP_RATIO,helpers:{title:null,overlay:{closeClick:FB_CLOSE_CLICK,css:{background:FB_OL_BG}}},afterLoad:function(){this.inner.before("<h2>"+this.title+"</h2><h3>"+t+"</h3>")}})};$.fn.getDoc=function(e,t,n){$.fancybox({href:n,title:e,type:"iframe",iframe:{scrolling:"auto",preload:!1},padding:FB_PADDING,topRatio:FB_TOP_RATIO,helpers:{title:null,overlay:{closeClick:FB_CLOSE_CLICK,css:{background:FB_OL_BG}}},afterLoad:function(){this.inner.before("<h2>"+this.title+"</h2><h3>"+t+"</h3>")}})};$.fn.getPresentation=function(e,t,n){$.fancybox({href:n,title:e,type:"iframe",width:900,height:680,padding:FB_PADDING,topRatio:FB_TOP_RATIO,helpers:{title:null,overlay:{closeClick:FB_CLOSE_CLICK,css:{background:FB_OL_BG}}},afterLoad:function(){this.inner.before("<h2>"+this.title+"</h2><h3>"+t+"</h3>")}})};$.fn.showMessage=function(e,t){$(".dialog-container").dialog({title:e});$(".dialog-container").dialog("open");$(".dialog-container").html(t)};