var FB_PADDING=0,FB_TOP_RATIO=.25,FB_CLOSE_CLICK=!1,FB_OL_BG="rgba(0,0,0,0.9)";$(document).ready(function(){$(this).checkTheme(),$(this).readXML(),$("div.mobile-nav").on("click",function(){$("nav.mobile-nav").slideToggle("slow")}),$(".dialog-container").dialog({modal:!0,minWidth:400,minHeight:150,autoOpen:!1,resizable:!1,draggable:!1,buttons:{Ok:function(){$(this).dialog("close")}}}),$(window).onWindowResize(),$("nav.mobile-nav").html($("header nav").html()),$("nav.mobile-nav ul li a").onMenuSelect()}),$.fn.checkTheme=function(){var t="https://mediastreamer.doit.wisc.edu/uwli-ltc/media/showcase/",e=$("div.logo a img"),i,a;$("body").hasClass("smgt")?(FB_OL_BG="rgba(225,225,220,0.95)",i="sources/img/smgt_logo.png",a="University of Wisconsin Sustainable Management"):(i="sources/img/uwex_ceoel_logo.png",a="University of Wisconsin-Extension divison of Continuing Education, Outreach & and E-Learning"),e.attr({src:t+i,alt:a})},$.fn.readXML=function(){$.ajaxSetup({url:"assets/showcase.xml",dataType:"xml",accepts:"xml",content:"xml",contentType:'xml; charset="utf-8"',cache:!1}),$.ajax({type:"get",beforeSend:function(t){t.overrideMimeType("xml; charset=utf-8"),t.setRequestHeader("Accept","text/xml")},success:function(t){$(this).setupXML(t)},error:function(t,e){$(this).displayError(t.status,e)}})},$.fn.setupXML=function(t){var e=$(t).find("category").find("name"),i=$(t).find("item");e.length?($("header nav ul").html('<li class="active"><a data-cat="0" href="javascript:void(0)">All</a></li>'),e.each(function(){$("header nav ul").append('<li><a data-cat="'+$(this).attr("id")+'" href="javascript:void(0)">'+$(this).text()+"</a></li>")}),$("header nav ul li a").onMenuSelect()):($("header nav ul").hide(),$("div.mobile-nav").hide()),i.length&&(i.each(function(){var t=$(this).attr("type"),e=$(this).attr("category"),i=$(this).find("title1").text(),a=$(this).find("title2").text(),n=$(this).find("subtitle").text(),s=$(this).find("thumb").text(),o=$(this).find("source").text();$(".showcase-container").append('<div class="grid '+t+'" data-cat="'+e+'"><img src="assets/thumbs/'+s+'" alt="'+i+"<br />"+a+'" data-subtitle="'+n+'" data-src="'+o+'" /><div class="overlay"><div class="title">'+i+"<br />"+a+'</div><div class="icon"><span class="icon-'+t+'"></span></div></div></div>')}),$(".showcase-container .grid").onGridHover(),$(".showcase-container .grid").onGridClick())},$.fn.displayError=function(t,e){var i,a;i=0===t?"Error 0 - No network connection.":404===t?"Error 404 - Requested XML not found.":406===t?"Error 406 - Not acceptable error.":500===t?"Error 500 - Internal Server Error.":"Uncaught error",a="parsererror"===e?"Requested XML parse failed.":"timeout"===e?"Time out error.":"abort"===e?"Ajax request aborted.":"error"===e?"HTTP / URL Error.":t.responseText,$(this).showMessage(i,a)},$.fn.onWindowResize=function(){this.resize(function(){var t=$(this).innerWidth()+15;$("nav.mobile-nav").html($("header nav").html()),t>=720?$("nav.mobile-nav").slideUp():$("nav.mobile-nav ul li a").onMenuSelect()})},$.fn.onMenuSelect=function(){return this.on("click",function(){var t=$(this);$(this.parentNode.parentNode.childNodes).each(function(){$(this).removeClass("active")}),$(this.parentNode).addClass("active"),$(".grid").each("0"!==t.attr("data-cat")?function(){$(this).attr("data-cat")!==t.attr("data-cat")?$(this).fadeOut():$(this).delay(500).fadeIn()}:function(){$(this).fadeIn()}),$(this.parentNode.parentNode.parentNode).hasClass("mobile-nav")&&$("nav.mobile-nav").slideToggle(1e3,function(){$("header nav").html($("nav.mobile-nav").html()),$("header nav ul li a").onMenuSelect()})}),!1},$.fn.onGridHover=function(){this.hover(function(){$(this).toggleClass("active").next().stop(!0,!0)})},$.fn.onGridClick=function(){this.click(function(){var t=$(this).find("img").attr("alt"),e=$(this).find("img").attr("data-subtitle"),i=$(this).find("img").attr("data-src");i.length?$(this).hasClass("video")||$(this).hasClass("animation")?$(this).getVideo(t,e,i):$(this).hasClass("sound")||$(this).hasClass("music")?$(this).getAudio(t,e,i):$(this).hasClass("print")||$(this).hasClass("infographic")||$(this).hasClass("illustration")||$(this).hasClass("mobile")?$(this).getImage(t,e,i):$(this).hasClass("web")?$(this).getWeb(t,e,i):$(this).hasClass("document")?$(this).getDoc(t,e,i):$(this).hasClass("presentation")&&$(this).getPresentation(t,e,i):$(this).showMessage("No Source Found!","No source was found or specified for this item. Please double check the XML for "+t+".")})},$.fn.getVideo=function(t,e,i){var a=640,n=360;i.indexOf("mediastreamer")>=0&&(n=410),$.fancybox({href:i,title:t,padding:FB_PADDING,topRatio:FB_TOP_RATIO,width:a,height:n,minHeight:n,type:"iframe",helpers:{title:null,overlay:{closeClick:FB_CLOSE_CLICK,css:{background:FB_OL_BG}},media:!0},afterLoad:function(){this.inner.before("<h2>"+this.title+"</h2><h3>"+e+"</h3>")}})},$.fn.getAudio=function(t,e,i){var a=390,n=275;$.fancybox({href:i,title:t,padding:FB_PADDING,topRatio:FB_TOP_RATIO,width:a,height:n,type:"iframe",helpers:{title:null,overlay:{closeClick:FB_CLOSE_CLICK,css:{background:FB_OL_BG}}},afterLoad:function(){this.inner.before("<h2>"+this.title+"</h2><h3>"+e+"</h3>")}})},$.fn.getImage=function(t,e,i){var a=!0;$(this).hasClass("infographic")&&(a=!1),$.fancybox({href:i,title:t,fitToView:a,padding:FB_PADDING,topRatio:FB_TOP_RATIO,helpers:{title:null,overlay:{closeClick:FB_CLOSE_CLICK,css:{background:FB_OL_BG}}},afterLoad:function(){this.inner.before("<h2>"+this.title+"</h2><h3>"+e+"</h3>")}})},$.fn.getWeb=function(t,e,i){$.fancybox({href:i,title:t,type:"iframe",iframe:{scrolling:"auto"},padding:FB_PADDING,topRatio:FB_TOP_RATIO,helpers:{title:null,overlay:{closeClick:FB_CLOSE_CLICK,css:{background:FB_OL_BG}}},afterLoad:function(){this.inner.before("<h2>"+this.title+"</h2><h3>"+e+"</h3>")}})},$.fn.getDoc=function(t,e,i){$.fancybox({href:i,title:t,type:"iframe",iframe:{scrolling:"auto",preload:!1},padding:FB_PADDING,topRatio:FB_TOP_RATIO,helpers:{title:null,overlay:{closeClick:FB_CLOSE_CLICK,css:{background:FB_OL_BG}}},afterLoad:function(){this.inner.before("<h2>"+this.title+"</h2><h3>"+e+"</h3>")}})},$.fn.getPresentation=function(t,e,i){$.fancybox({href:i,title:t,type:"iframe",width:900,height:680,padding:FB_PADDING,topRatio:FB_TOP_RATIO,helpers:{title:null,overlay:{closeClick:FB_CLOSE_CLICK,css:{background:FB_OL_BG}}},afterLoad:function(){this.inner.before("<h2>"+this.title+"</h2><h3>"+e+"</h3>")}})},$.fn.showMessage=function(t,e){$(".dialog-container").dialog({title:t}),$(".dialog-container").dialog("open"),$(".dialog-container").html(e)};